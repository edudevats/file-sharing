{% extends "base.html" %}
{% block title %}EY{% endblock %}
{% block content %}
<div class="page-header">
    <h1 class="page-title">Settings</h1>
</div>

<div class="card">
    <h3>Application Logo</h3>
    
    <div class="logo-settings">
        <div class="logos-grid">
            <!-- Sign In Logo -->
            <div class="logo-section">
                <h4>Sign In Page Logo</h4>
                <div class="current-logo">
                    {% if logo %}
                        <img src="{{ url_for('serve_logo', filename=logo) }}" alt="Current Sign In Logo">
                    {% else %}
                        <div class="logo-placeholder">No sign in logo</div>
                    {% endif %}
                </div>
                
                <form method="POST" enctype="multipart/form-data">
                    <div class="form-group">
                        <label class="form-label">Upload sign in logo</label>
                        <input type="file" name="signin_logo" class="form-control" accept="image/*,.svg">
                        <small>This logo appears on the sign in page</small>
                    </div>
                    
                    <button type="submit" name="logo_type" value="signin" class="btn btn-primary">Update Sign In Logo</button>
                </form>
            </div>
            
            <!-- Header Logo -->
            <div class="logo-section">
                <h4>Header Logo</h4>
                <div class="current-logo">
                    {% if header_logo %}
                        <img src="{{ url_for('serve_logo', filename=header_logo) }}" alt="Current Header Logo">
                    {% else %}
                        <div class="logo-placeholder">No header logo</div>
                    {% endif %}
                </div>
                
                <form method="POST" enctype="multipart/form-data">
                    <div class="form-group">
                        <label class="form-label">Upload header logo</label>
                        <input type="file" name="header_logo" class="form-control" accept="image/*,.svg">
                        <small>This logo appears in the navigation header</small>
                    </div>
                    
                    <button type="submit" name="logo_type" value="header" class="btn btn-primary">Update Header Logo</button>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="card">
    <h3>Account Information</h3>
    
    <div class="account-info">
        <div class="info-item">
            <label>Username:</label>
            <span>{{ current_user.username }}</span>
        </div>
        <div class="info-item">
            <label>Email:</label>
            <span>{{ current_user.email }}</span>
        </div>
    </div>
    
    <div class="form-actions">
        <a href="{{ url_for('change_password') }}" class="btn btn-primary">
            ðŸ”’ Change Password
        </a>
    </div>
</div>

<div class="card">
    <h3>Usage Statistics</h3>
    
    <div class="usage-stats">
        <div class="stat-item">
            <label>Used Space:</label>
            <span>{{ (stats.total_size / 1024 / 1024) | round(2) }} MB / 10 GB</span>
            <div class="progress-bar">
                <div class="progress" style="width: {{ (stats.total_size / 10737418240 * 100) | round(2) }}%"></div>
            </div>
        </div>
        <div class="stat-item">
            <label>Total Downloads:</label>
            <span>{{ stats.total_downloads }}</span>
        </div>
        <div class="stat-item">
            <label>Shared Files:</label>
            <span>{{ stats.public_files }}</span>
        </div>
    </div>
</div>
{% endblock %}